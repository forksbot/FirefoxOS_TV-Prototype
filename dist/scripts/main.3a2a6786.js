function pad(a,b){return a=a.toString(),a.length<b?pad("0"+a,b):a}$(document).ready(function(){function a(a){if(a=a||window.event,a.keyCode==KeyEvent.DOM_VK_SUBMENU&&A&&1==g&&"navigation"==e&&!m){e="optionmode",s=1,$("#option .optbutton").notSelected_option(.001),TweenLite.to($(".transition"),.001,{opacity:.8,backgroundColor:"#000"}),A=!1,$(".transition").transition_opening("optionmode");var b=$(".appbutton[data-number="+f+"]");"folder"==b.attr("data-type")&&TweenLite.to($("#"+b.attr("id")+" > .appbutton-folder"),E,{opacity:0})}}TweenLite.to($("body"),.3,{opacity:1,ease:Power1.easeInOut});var b,c=0,d=0,e="navigation",f=1,g=1,h=1,i=2,j=1,k=0,l="all",m=!1,n=0,o=1,p=["#search","#setting","#folder"],q=1,r=["#rearrange","#rename","#remove"],s=1,t=1,u=1,v=1,w=["#cancel","#confirm"],x=1,y={app01:"#d90070",app02:"#00cbb0",app03:"#0071d7",app04:"#00a6d5",app05:"#cccccc",app06:"#cccccc",app07:"#cccccc",app08:"#cccccc",app09:"#5a5a5a",app10:"#5a5a5a"},z="#5eabd9",A=!1,B=.3,C=.3,D=1.8,E=.4,F=300,G=$("#app > .appbutton").length,H=G,I=515+.5*(8-G)*160,J=235+.5*(8-G)*160,K=new Date,L=("0"+K.getHours()).slice(-2),M=("0"+K.getMinutes()).slice(-2),N=L+":"+M;$("#time").text(N),setInterval(function(){var a=new Date,b=("0"+a.getHours()).slice(-2),c=("0"+a.getMinutes()).slice(-2),d=b+":"+c;$("#time").text(d)},6e4);for(var O=new TimelineMax({repeat:-1}),P=new TimelineMax({repeat:-1}),Q=new TimelineMax({repeat:-1}),R=0;R<Object.keys(y).length;R++){var S=$(".appbutton[data-number="+(R+1)+"]");S.css("background-color",y["app0"+(R+1)])}if(5>=G)for(var R=0;G>R;R++){var S=$(".appbutton[data-number="+(R+1)+"]");S.css("margin-left",(1920-300*G)/2+R*(300+100/G)-40)}else for(var R=0;G>R;R++){var S=$(".appbutton[data-number="+(R+1)+"]");S.css("margin-left",210+320*R-40)}$(".appbutton-folder").each(function(){var a=$(this).attr("data-number").split("-")[1];$(this).css("margin-left",150*(a-1)+"!important")}),function(a){a.fn.opening=function(){var b=100;return a(this).each(function(a,c){setTimeout(function(){TweenLite.to(c,.8,{opacity:1,y:"-=100",ease:Power4.easeInOut})},b),b+=100}),2==g&&(A=!0),this}}(jQuery),function(a){a.fn.closing=function(){var e=100;return a(this).each(function(a,b){setTimeout(function(){TweenLite.to(b,.8,{opacity:0,y:"+=100",ease:Power4.easeInOut})},e),e+=100}),d>0?(TweenLite.to(a(".appbutton"),C,{left:"+="+350*d,ease:Power1.easeInOut,onComplete:function(){b=a("#app > .appbutton").clone(),TweenLite.to(b,.001,{opacity:0,y:0,ease:Power4.easeInOut})}}),c=0,d=0,f=1):"all"==l&&(b=a("#app > .appbutton").clone(),TweenLite.to(b,.001,{opacity:0,y:0,ease:Power4.easeInOut})),this}}(jQuery);var T=$(".appbutton");T.opening();var U=0;$(".filter-section li").each(function(a){console.log(50*parseInt(a+1)+"-"+U),$(this).css("margin-left",50*parseInt(a+1)+parseInt(U)),U+=$(this).width()}),$(window).on("blur focus",function(a){var b=$(this).data("prevType"),c=$(".appbutton[data-number="+f+"]");if(b!=a.type)switch(a.type){case"blur":W?$(r[s-1]).notSelected_option():"navigation"==e&&(1==g?c.notSelected():0==g?$(p[q-1]).notSelected_setting():$("#filter").notSelected_setting());break;case"focus":W?$(r[s-1]).isSelected_option():"navigation"==e&&(1==g?c.isSelected():0==g?$(p[q-1]).isSelected_setting():$("#filter").isSelected_setting())}$(this).data("prevType",a.type)}),TweenLite.to($("#app01"),B,{scale:1.6,zIndex:10,border:"6px #FFF solid",ease:Power1.easeInOut,delay:160*G/1e3,onComplete:function(){A=!0,Q[0]=new TimelineMax({repeat:-1}),Q[1]=new TimelineMax({repeat:-1}),Q[0].fromTo($(".wave01a"),3,{x:"0px"},{x:"-600px",ease:Linear.easeNone}),Q[1].fromTo($(".wave01b"),3.1,{x:"-100px"},{x:"-700px",ease:Linear.easeNone}),$("#app01").addClass("selected")}});var V=$(".appbutton[data-number="+f+"]").attr("id");TweenLite.to($(".transition"),.001,{backgroundColor:y[V]}),TweenLite.to($("#dummy"),.001,{backgroundColor:y[V]}),function(a){a.fn.getMode=function(){return console.log(e),e}}(jQuery),function(a){a.fn.isSelected=function(b){if(b=b||1.6,this.hasClass("cardselected")?TweenLite.to(this,B,{border:"4px #FFF solid",borderTop:"4px #FFF solid",borderBottom:"4px #FFF solid",borderLeft:"4px #FFF solid",borderRight:"4px #FFF solid",scale:b,width:"100px",height:"100px",marginLeft:"-=25px",top:"+=5px",zIndex:10,ease:Power4.easeInOut,perspective:1e3,onComplete:function(){A=!0}}):TweenLite.to(this,B,{scale:b,zIndex:10,border:"6px #FFF solid",ease:Power4.easeInOut,perspective:1e3,onComplete:function(){A=!0}}),this.addClass("selected"),"navigation"==e){console.log("start wave");var c=a(this).attr("id");TweenLite.to(a("#"+c+" > .appbutton-folder"),E,{opacity:1});var d=a(".appbutton[data-number="+parseInt(f)+"]"),g=d.attr("id").split("0")[1];console.log("else1"),Q[2*g-2]=new TimelineMax({repeat:-1}),Q[2*g-2].fromTo(a(".wave0"+g+"a"),3,{x:"0px"},{x:"-600px",ease:Linear.easeNone}),console.log("else2"),Q[2*g-1]=new TimelineMax({repeat:-1}),Q[2*g-1].fromTo(a(".wave0"+g+"b"),3.1,{x:"-100px"},{x:"-700px",ease:Linear.easeNone})}return this}}(jQuery),function(a){a.fn.notSelected=function(b){if(b=b||1,"navigation"==e){var c=a(this).attr("id");TweenLite.to(a("#"+c+" > .appbutton-folder"),E,{opacity:0})}return this.hasClass("cardselected")?TweenLite.to(this,B,{border:"0px #FFF solid",borderTop:"0px #FFF solid",borderBottom:"0px #FFF solid",borderLeft:"0px #FFF solid",borderRight:"0px #FFF solid",scale:b,width:"60px",height:"60px",marginLeft:"+=25px",top:"-=5px",zIndex:1,ease:Power4.easeInOut,onComplete:function(){}}):TweenLite.to(this,B,{scale:b,zIndex:1,border:"0px #989898 solid",ease:Power4.easeInOut,onComplete:function(){}}),this.removeClass("selected"),this}}(jQuery),function(a){a.fn.isSelected_setting=function(){if("filter"==this.attr("id")){var b=this;b.addClass("selected"),a("#filter.navbutton.selected .filtericon01").addClass("important-"+l),TweenLite.to(this,.3,{scale:1.1,backgroundColor:"rgba(255,255,255,1)",ease:Power2.easeInOut,perspective:1e3,onComplete:function(){}}),setTimeout(function(){b.removeClass("selected"),console.log(a(this))},300),TweenLite.to(this,.3,{scale:1.1,backgroundColor:"rgba(0,0,0,.8)",delay:.3,ease:Power2.easeInOut,perspective:1e3,onComplete:function(){TweenLite.to(a(".filter-section"),1,{width:"820px",ease:Power2.easeOut,onComplete:function(){A=!0}}),a(".filter-section li").eq(o-1).delay(500).animate({textIndent:12},{step:function(b){a(this).css("-moz-transform","scale("+b/10+")"),a(this).css("color","#FFF")},duration:F},"linear")}})}else TweenLite.to(this,.3,{scale:1.1,backgroundColor:"rgba(255,255,255,1)",ease:Power2.easeInOut,perspective:1e3,onComplete:function(){A=!0}}),this.addClass("selected");return this}}(jQuery),function(a){a.fn.notSelected_setting=function(){var b=this;return TweenLite.to(b,.2,{scale:1,zIndex:1,backgroundColor:"rgba(0,0,0,.8)",ease:Power2.easeInOut,onComplete:function(){"filter"==b.attr("id")&&(a(".filter-section li").eq(o-1).animate({textIndent:10},{step:function(b){a(this).css("-moz-transform","scale("+b/10+")"),a(this).css("color","#CCC")},duration:200},"linear"),TweenLite.to(a(".filter-section"),.6,{width:"0px",ease:Power2.easeOut,delay:.2,onComplete:function(){A=!0,o=1}}))}}),this.removeClass("selected"),this}}(jQuery),function(a){a.fn.isSelected_option=function(a){return a=a||.4,TweenLite.to(this,a,{backgroundColor:"rgb(255,255,255)",scale:1.3,ease:Power4.easeInOut,perspective:1e3,onComplete:function(){A=!0}}),this.addClass("selectedOption"),console.log("red == 1"),this}}(jQuery),function(a){a.fn.notSelected_option=function(a){return a=a||.4,TweenLite.to(this,a,{backgroundColor:"rgb(96,96,96)",scale:1,ease:Power4.easeInOut,onComplete:function(){}}),this.removeClass("selectedOption"),this}}(jQuery),function(a){a.fn.findNext=function(b){var c=a("#app > .appbutton"),d=a("#app > .appbutton[data-number="+f+"]"),e=f,g=d.css("margin-left"),h=0;c.each(function(c,e){if(d.attr("id")!=e.id){var f=a(e).css("margin-left"),i=parseInt(f.split("p")[0]-g.split("p")[0]);"right"==b?i>0&&180>i&&(h=e.id):"left"==b&&-1*i>0&&180>-1*i&&(h=e.id)}});var i=a("#"+h),j=i.attr("data-number");return d.attr("data-number",j),i.attr("data-number",e),i}}(jQuery),function(a){a.fn.transition_opening=function(b){for(var c=0;6>c;c++)null!=Q[c]&&Q[c].pause();if(TweenLite.to(this,D,{marginLeft:"-1445px",bottom:"-1445px",width:"2890px",height:"2890px",ease:Power4.easeOut}),"optionmode"==b){var d=a(".appbutton[data-number="+parseInt(f)+"]");d.notSelected();var e=1600;"main"==d.attr("data-type")?(a("#rename, #remove").css("display","none"),e=1600):(a("#rename, #remove").css("display","inline-block"),e=2e3),TweenLite.to(a("#option"),.001,{zIndex:2e3,ease:Power4.easeInOut});var g=a("#option .optbutton"),h=500;g.each(function(a,b){setTimeout(function(){console.log(b),TweenLite.to(b,.8,{opacity:1,y:"-=100",ease:Power4.easeInOut,delay:.4}),console.log(h)},h),h+=200}),setTimeout(function(){a("#rearrange").isSelected_option()},e)}return"addfolder"==b&&TweenLite.to(a("#addfolder"),.5,{opacity:1,zIndex:3e3,delay:.5,onComplete:function(){a(".applist").first().isSelected(),j=1}}),this}}(jQuery),function(a){a.fn.transition_closing=function(b){return"optionmode"==b||"rearrange"==b?TweenLite.to(a("#option .optbutton"),.8,{opacity:0,y:"+=100",ease:Power4.easeInOut}):"dummymode"==b?TweenLite.to(a("#dummy"),.4,{opacity:0,zIndex:-1,ease:Power4.easeIn}):"addfolder"==b&&TweenLite.to(a("#addfolder"),.5,{opacity:0}),TweenLite.to(this,D-1,{marginLeft:"0",bottom:"0",width:"0px",height:"0px",ease:Power4.easeIn,onComplete:function(){"optionmode"==b?(TweenLite.to(a("#option"),.001,{zIndex:-1,ease:Power4.easeInOut}),3==s&&a("#remove").hasClass("pressed")||(a(".appbutton[data-number="+parseInt(f)+"]").isSelected(),a(".selectedOption").notSelected_option()),e="navigation",s=1):"dummymode"==b?(a(".appbutton[data-number="+parseInt(f)+"]").isSelected(),e="navigation"):"rearrange"==b?(e="rearrange",s=1):"addfolder"==b&&(a(".appbutton[data-number="+parseInt(f)+"]").isSelected(),e="navigation",g=1,q=1,j=1,h=1,a("#addfolder-done p").addClass("inactive"))}}),this}}(jQuery),$.fn.moveUp=function(){$.each(this,function(){$(this).after($(this).prev())})},$.fn.moveDown=function(){$.each(this,function(){$(this).before($(this).next())})};var W=!1;key("down",function(){console.log("down");for(var a=0;6>a;a++)null!=Q[a]&&Q[a].pause();if(A)if("navigation"==e){var b=$(".appbutton[data-number="+parseInt(f)+"]");if(1==g)if(A=!1,"folder"==b.attr("data-type")){var c=$('.appbutton-folder[data-number="'+f+'-1"]');c.addClass("cardselected"),c.isSelected(),TweenLite.to(b,.3,{scale:1,border:"0px #FFF solid",ease:Power4.easeInOut}),g=3}else b.notSelected(),$("#filter").isSelected_setting(),g++;else 0==g?(A=!1,$(".selected").notSelected_setting(),b.isSelected(),g++,q=1):3==g&&(A=!1,$(".cardselected").notSelected(),$(".cardselected").removeClass("cardselected"),b.notSelected(),v=1,$("#filter").isSelected_setting(),g=2)}else if("addfolder"==e)i=1+parseInt($(".applist").length/8),h!=i&&(A=!1,h++,$('.applist[data-number="folder-card'+j+'"]').isSelected(),TweenLite.to($("#addfolder-done p"),.3,{paddingTop:"20px"}),TweenLite.to($("#addfolder-done"),.3,{scale:1,border:"6px #FFF solid",onComplete:function(){A=!0}}));else if("rearrange-folder"==e&&1==t){A=!1,t=2;var d=$(".selected[data-number="+f+"]");TweenLite.to(d,E,{backgroundColor:"rgba(204,204,204,1)",y:"+=230px",ease:Power4.easeInOut});var k=$(".appbutton[data-number="+f+"] > .appbutton-folder");TweenLite.to(k,E,{marginLeft:"+=160px",ease:Power4.easeInOut,onComplete:function(){A=!0}}),TweenLite.to($(".next, .prev"),.3,{y:"+=230px",ease:Power4.easeInOut}),$(".prev").css("display","none")}}),key("up",function(){console.log("up");for(var a=0;6>a;a++)null!=Q[a]&&Q[a].pause();if(A)if("navigation"==e){var b=$(".appbutton[data-number="+parseInt(f)+"]");1==g?(A=!1,b.notSelected(),$("#search").isSelected_setting(),g--):2==g?(A=!1,$("#filter").notSelected_setting(),b.isSelected(),g--):3==g&&(A=!1,v=1,$(".cardselected").notSelected(),$(".cardselected").removeClass("cardselected"),TweenLite.to(b,.3,{scale:1.6,border:"6px #FFF solid",ease:Power4.easeInOut,onComplete:function(){A=!0}}),g=1)}else if("addfolder"==e)i=1+$(".applist").length/8,0!=h&&(A=!1,h--,$(".selected").notSelected(),TweenLite.to($("#addfolder-done p"),.3,{paddingTop:"20px"}),TweenLite.to($("#addfolder-done"),.3,{scale:1,border:"6px #5eabd9 solid",onComplete:function(){A=!0}}));else if("rearrange-folder"==e&&2==t&&1==u){A=!1,t=1;var c=$(".selected[data-number="+f+"]");TweenLite.to(c,E,{backgroundColor:"rgba(204,204,204,0.5)",y:"-=230px",ease:Power4.easeInOut});var d=$(".appbutton[data-number="+f+"] > .appbutton-folder");TweenLite.to(d,E,{marginLeft:"-=160px",ease:Power4.easeInOut,onComplete:function(){A=!0}}),TweenLite.to($(".next, .prev"),.3,{y:"-=230px",ease:Power4.easeInOut})}}),key("right",function(){console.log("right");for(var a=0;6>a;a++)null!=Q[a]&&Q[a].pause();if(A)if("rearrange"==e){if(n!=G){A=!1;var b=$(".selected"),i=b.findNext("right");if("card"==b.attr("data-type")&&"folder"==i.attr("data-type")){e="rearrange-folder",TweenLite.to($("#"+i.attr("id")+" p"),E,{opacity:0}),TweenLite.to($("#"+i.attr("id")+" .icon_folder"),E,{backgroundSize:"80% 80%"}),console.log("current="+f);for(var a=parseInt(f)+1;G>=a;a++){var k=$(".appbutton[data-number="+parseInt(a)+"]");k.attr("data-number",parseInt(a)-1)}if(10>=G)for(var a=0;G-1>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),E,{marginLeft:(1920-150*(G-1)-10*(G-2))/2+160*a-75,ease:Power4.easeInOut});else for(var a=0;G-1>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),E,{marginLeft:165+168*a,ease:Power4.easeInOut});$("#"+i.attr("id")+" > .appbutton-folder").each(function(){var a=$(this).attr("data-number").split("-")[1]-1;TweenLite.to(this,E,{opacity:1,width:"150px",height:"150px",marginLeft:"-="+(45-90*a)+"px",bottom:"-180px"})}),TweenLite.to(b,E,{scale:.65,x:"-=5px",backgroundColor:"rgba(204,204,204,0.5)",ease:Power4.easeInOut}),TweenLite.to(i,E,{scale:.9,zIndex:2999,ease:Power4.easeInOut,onComplete:function(){A=!0}}),TweenLite.to($(".next, .prev"),E,{x:"+=80px",ease:Power4.easeInOut})}else{f++;var l=b.css("margin-left"),m=i.css("margin-left");b.moveDown(),TweenLite.to(b,.2,{marginLeft:m,ease:Power4.easeInOut,onComplete:function(){A=!0}}),TweenLite.to(i,.2,{marginLeft:l,ease:Power4.easeInOut,onComplete:function(){A=!0}}),n++,TweenLite.to($(".next, .prev"),.2,{x:"+=160px",ease:Power4.easeInOut})}}n==G?$(".next").css("display","none"):1==n?$(".prev").css("display","none"):($(".next").css("display","block"),$(".prev").css("display","block"))}else if("rearrange-folder"==e){if(1==t){e="rearrange",A=!1,b=$(".selected[data-number="+f+"]");for(var y=G-1;y>=parseInt(f)+1;y--){var k=$("#app > .appbutton[data-number="+parseInt(y)+"]");console.log(k.attr("data-number")+"!"),k.attr("data-number",parseInt(y)+1)}if(f++,$(".selected").attr("data-number",f),10>=G)for(var a=0;G>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),E,{marginLeft:(1920-150*G-10*(G-1))/2+160*a-75,ease:Power4.easeInOut});else for(var a=0;G-1>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),E,{marginLeft:165+168*a,ease:Power4.easeInOut});var z=parseInt(f)-1;i=$(".appbutton[data-number="+z+"]"),TweenLite.to($("#"+i.attr("id")+" p"),E,{opacity:1}),TweenLite.to($("#"+i.attr("id")+" .icon_folder"),E,{backgroundSize:"40% 40%"}),$("#"+i.attr("id")+" > .appbutton-folder").each(function(a){TweenLite.to(this,E,{opacity:0,width:"60px",height:"60px",marginLeft:"+="+(45-90*a)+"px",bottom:"-80px"})}),TweenLite.to(b,E,{scale:.9,x:0,backgroundColor:"rgba(204,204,204,1)",ease:Power4.easeInOut}),TweenLite.to(i,E,{scale:.5,zIndex:1,ease:Power4.easeInOut,onComplete:function(){A=!0}}),n++,TweenLite.to($(".next, .prev"),E,{x:"+=80px",ease:Power4.easeInOut})}else if(2==t){var B=$(".appbutton[data-number="+f+'][data-type="folder"] > .appbutton-folder'),D=B.length+1,b=$(".selected[data-number="+f+"]");if(u!=D){A=!1;var l=b.css("margin-left"),m=$('.appbutton-folder[data-number="'+f+"-"+u+'"]').css("margin-left");console.log(l+"========="+m),TweenLite.to(b,E,{marginLeft:"+=150px",ease:Power4.easeInOut}),TweenLite.to($('.appbutton-folder[data-number="'+f+"-"+u+'"]'),E,{marginLeft:"-=150px",ease:Power4.easeInOut,onComplete:function(){A=!0}}),u++,TweenLite.to($(".next, .prev"),.3,{x:"+=150px",ease:Power4.easeInOut}),u==D?$(".next").css("display","none"):1==u?$(".prev").css("display","none"):($(".next").css("display","block"),$(".prev").css("display","block"))}}}else if("navigation"==e){if(1==g)f!=G&&(A=!1,f++,c++),c>=5&&(A=!1,TweenLite.to($(".appbutton"),C,{left:"-=350",ease:Power1.easeInOut,onComplete:function(){}}),c=4,d+=1),$(".appbutton[data-number="+parseInt(f)+"]").isSelected(),$(".appbutton[data-number="+parseInt(f-1)+"]").notSelected();else if(0==g)3>q&&(A=!1,$(p[q-1]).notSelected_setting(),$(p[q]).isSelected_setting(),q++);else if(2==g){var H=$(".filter-section li").length;o!=H&&(console.log("?"),$(".filter-section li").eq(o-1).animate({textIndent:10},{step:function(a){$(this).css("-moz-transform","scale("+a/10+")"),$(this).hasClass("active")||$(this).css("color","#CCC")},duration:F},"linear"),$(".filter-section li").eq(o).animate({textIndent:12},{step:function(a){$(this).css("-moz-transform","scale("+a/10+")"),$(this).hasClass("active")||$(this).css("color","#FFF")},duration:F},"linear"),o++)}else if(3==g){var I=$(".appbutton[data-number="+parseInt(f)+"] > .appbutton-folder").length;if(I>v){A=!1,console.log(I),$(".cardselected").notSelected(),$(".cardselected").removeClass("cardselected");var B=$('.appbutton-folder[data-number="'+f+"-"+(parseInt(v)+1)+'"]');B.addClass("cardselected"),B.isSelected(),v++}}}else if("optionmode"==e){var b=$(".appbutton[data-number="+parseInt(f)+"]");3>s&&"main"!=b.attr("data-type")&&(A=!1,$(r[s-1]).notSelected_option(),$(r[s]).isSelected_option(),s++)}else"delete"==e?2>x&&(A=!1,$(w[x-1]).notSelected_option(),TweenLite.to($(w[x]),E,{scale:1.3,ease:Power4.easeInOut,perspective:1e3,onComplete:function(){A=!0}}),x++):"addfolder"==e&&1==h&&j!=$(".applist").length&&(j++,$('.applist[data-number="folder-card'+(j-1)+'"]').notSelected(),$('.applist[data-number="folder-card'+j+'"]').isSelected(),console.log(j))}),key("left",function(){console.log("left");for(var a=0;6>a;a++)null!=Q[a]&&Q[a].pause();if(A)if("rearrange"==e){if(1!=n){A=!1;var b=$(".selected"),i=b.findNext("left");if("card"==b.attr("data-type")&&"folder"==i.attr("data-type")){e="rearrange-folder",TweenLite.to($("#"+i.attr("id")+" p"),E,{opacity:0}),TweenLite.to($("#"+i.attr("id")+" .icon_folder"),E,{backgroundSize:"80% 80%"}),f--,n--,b=$('#app > .appbutton[data-number="'+f+'"]'),console.log(b+"!!!");for(var a=parseInt(f)+1;G>=a;a++){console.log("iii");var k=$(".appbutton[data-number="+parseInt(a)+"]");k.attr("data-number",parseInt(a)-1)}if(10>=G)for(var a=0;G-1>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),E,{marginLeft:(1920-150*(G-1)-10*(G-2))/2+160*a-75,ease:Power4.easeInOut});else for(var a=0;G-1>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),E,{marginLeft:165+168*a,ease:Power4.easeInOut});$("#"+i.attr("id")+" > .appbutton-folder").each(function(){var a=$(this).attr("data-number").split("-")[1]-1;TweenLite.to(this,E,{opacity:1,width:"150px",height:"150px",marginLeft:"-="+(45-90*a)+"px",bottom:"-180px"})}),TweenLite.to(b,E,{scale:.65,x:"-=5px",backgroundColor:"rgba(204,204,204,0.5)",ease:Power4.easeInOut}),TweenLite.to(i,E,{scale:.9,zIndex:2999,ease:Power4.easeInOut,onComplete:function(){A=!0}}),TweenLite.to($(".next, .prev"),E,{x:"-=80px",ease:Power4.easeInOut})}else{f--;var l=b.css("margin-left"),m=i.css("margin-left");b.moveUp(),TweenLite.to(b,.2,{marginLeft:m,ease:Power4.easeInOut,onComplete:function(){A=!0}}),TweenLite.to(i,.2,{marginLeft:l,ease:Power4.easeInOut,onComplete:function(){A=!0}}),n--,TweenLite.to($(".next, .prev"),.2,{x:"-=160px",ease:Power4.easeInOut})}}n==G?$(".next").css("display","none"):1==n?$(".prev").css("display","none"):($(".next").css("display","block"),$(".prev").css("display","block"))}else if("rearrange-folder"==e){if(1==t){A=!1,e="rearrange",b=$(".selected[data-number="+f+"]"),console.log($("#"+b.attr("id")+" > .appbutton-folder"));for(var y=G-1;y>=parseInt(f);y--){var k=$("#app > .appbutton[data-number="+parseInt(y)+"]");console.log(k.attr("data-number")+"!"),k.attr("data-number",parseInt(y)+1)}if($(".selected").attr("data-number",f),10>=G)for(var a=0;G>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),E,{marginLeft:(1920-150*G-10*(G-1))/2+160*a-75,ease:Power4.easeInOut});else for(var a=0;G-1>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),E,{marginLeft:165+168*a,ease:Power4.easeInOut});var z=parseInt(f)+1;i=$(".appbutton[data-number="+z+"]"),TweenLite.to($("#"+i.attr("id")+" p"),E,{opacity:1}),TweenLite.to($("#"+i.attr("id")+" .icon_folder"),E,{backgroundSize:"40% 40%"}),$("#"+i.attr("id")+" > .appbutton-folder").each(function(a){TweenLite.to(this,E,{opacity:0,width:"60px",height:"60px",marginLeft:"+="+(45-90*a)+"px",bottom:"-80px"})}),TweenLite.to(b,E,{scale:.9,x:0,backgroundColor:"rgba(204,204,204,1)",ease:Power4.easeInOut}),TweenLite.to(i,E,{scale:.5,zIndex:1,ease:Power4.easeInOut,onComplete:function(){A=!0}}),TweenLite.to($(".next, .prev"),E,{x:"-=80px",ease:Power4.easeInOut})}else if(2==t){var B=$(".appbutton[data-number="+f+'][data-type="folder"] > .appbutton-folder');console.log(B+"????");var D=B.length+1,b=$(".selected[data-number="+f+"]");if(1!=u){A=!1;var l=b.css("margin-left"),m=$('.appbutton-folder[data-number="'+f+"-"+(u-1)+'"]').css("margin-left");console.log(l+"========="+m),TweenLite.to(b,E,{marginLeft:"-=150px",ease:Power4.easeInOut}),TweenLite.to($('.appbutton-folder[data-number="'+f+"-"+(u-1)+'"]'),E,{marginLeft:"+=150px",ease:Power4.easeInOut,onComplete:function(){A=!0}}),u--,TweenLite.to($(".next, .prev"),.3,{x:"-=150px",ease:Power4.easeInOut}),u==D?$(".next").css("display","none"):1==u?$(".prev").css("display","none"):($(".next").css("display","block"),$(".prev").css("display","block"))}}}else if("navigation"==e){if(1==g)1!=f&&(A=!1,f--,c--),0>c&&(A=!1,TweenLite.to($(".appbutton"),C,{left:"+=350",ease:Power1.easeInOut,onComplete:function(){}}),c=0,d-=1),$(".appbutton[data-number="+parseInt(f)+"]").isSelected(),$(".appbutton[data-number="+parseInt(f+1)+"]").notSelected();else if(0==g)q>1&&(A=!1,$(p[q-1]).notSelected_setting(),$(p[q-2]).isSelected_setting(),q--);else if(2==g){{$(".filter-section li").length}1!=o&&(console.log("!"),$(".filter-section li").eq(o-1).animate({textIndent:10},{step:function(a){$(this).css("-moz-transform","scale("+a/10+")"),$(this).hasClass("active")||$(this).css("color","#CCC")},duration:F},"linear"),$(".filter-section li").eq(o-2).animate({textIndent:12},{step:function(a){$(this).css("-moz-transform","scale("+a/10+")"),$(this).hasClass("active")||$(this).css("color","#FFF")},duration:F},"linear"),o--)}else if(3==g){{$(".appbutton[data-number="+parseInt(f)+"] > .appbutton-folder").length}if(v>1){A=!1,$(".cardselected").notSelected(),$(".cardselected").removeClass("cardselected");var B=$('.appbutton-folder[data-number="'+f+"-"+(parseInt(v)-1)+'"]');B.addClass("cardselected"),B.isSelected(),v--}}}else if("optionmode"==e){var b=$(".appbutton[data-number="+parseInt(f)+"]");s>1&&"main"!=b.attr("data-type")&&(A=!1,$(r[s-1]).notSelected_option(),$(r[s-2]).isSelected_option(),s--)}else"delete"==e?x>1&&(A=!1,TweenLite.to($(w[x-1]),.4,{scale:1,ease:Power4.easeInOut,perspective:1e3}),$(w[x-2]).isSelected_option(),x--):"addfolder"==e&&1==h&&j>1&&(j--,$('.applist[data-number="folder-card'+(j+1)+'"]').notSelected(),$('.applist[data-number="folder-card'+j+'"]').isSelected(),console.log(j))}),key("a",function(){console.log(c+"-"+f+"="+d)}),key("c",function(){console.log(A+"-mode="+e+"-count="+G+"-stage="+f+"-level="+g+"-cp="+n+"-rs="+u)}),$(window).keydown(function(a){if(A&&a.altKey&&1==g&&"navigation"==e&&!m){e="optionmode",s=1,$("#option .optbutton").notSelected_option(.001),TweenLite.to($(".transition"),.001,{opacity:.8,backgroundColor:"#000"}),A=!1,$(".transition").transition_opening("optionmode");var b=$(".appbutton[data-number="+f+"]");"folder"==b.attr("data-type")&&TweenLite.to($("#"+b.attr("id")+" > .appbutton-folder"),E,{opacity:0})}}),document.onkeydown=a,key("backspace",function(){A&&("optionmode"==e||"dummymode"==e||"addfolder"==e)&&(A=!1,$(".transition").transition_closing(e))});var X=400;key("enter",function(){if(A)if("navigation"==e){if(A=!1,1==g){var a=$(".appbutton[data-number="+f+"]").attr("id");TweenLite.to($(".transition"),.01,{backgroundColor:y[a]}),TweenLite.to($("#dummy"),.01,{backgroundColor:y[a]}),TweenLite.to($(".appbutton[data-number="+parseInt(f)+"]"),B/2,{scale:1.3,ease:Power1.easeInOut}),TweenLite.to($(".appbutton[data-number="+parseInt(f)+"]"),B,{scale:1.6,ease:Power1.easeInOut,delay:.08}),TweenLite.to($(".transition"),D,{opacity:1,marginLeft:"-1445px",bottom:"-1445px",width:"2890px",height:"2890px",ease:Power4.easeOut,delay:.3}),TweenLite.to($(".appbutton[data-number="+parseInt(f)+"]"),B,{scale:1,zIndex:1,border:"0px #989898 solid",ease:Power1.easeIn,delay:1.5}),$("#dummy p").text($(".appbutton[data-number="+parseInt(f)+"]").attr("data-content")),TweenLite.to($("#dummy"),1,{opacity:1,zIndex:100,ease:Power4.easeIn,delay:.2,onComplete:function(){A=!0,e="dummymode"}})}else 3==g&&(A=!0);if(0==g){if(1==q&&(console.log("search"),$("#search").addClass("pressed"),TweenLite.to($("#search"),.2,{backgroundColor:z,scale:1}),setTimeout(function(){$("#search").removeClass("pressed"),TweenLite.to($("#search"),.2,{backgroundColor:"#FFF",scale:1.1,onComplete:function(){A=!0}})},X)),2==q&&(console.log("setting"),$("#setting").addClass("pressed"),TweenLite.to($("#setting"),.2,{backgroundColor:z,scale:1}),setTimeout(function(){$("#setting").removeClass("pressed"),TweenLite.to($("#setting"),.2,{backgroundColor:"#FFF",scale:1.1,onComplete:function(){A=!0}})},X)),3==q){console.log("add folder"),$("#folder").addClass("pressed"),TweenLite.to($("#folder"),.2,{backgroundColor:z,scale:1}),e="addfolder";var i=$('#app .appbutton[data-type="card"]').length;$("#addfolder-number--total").text(i),$('#addfolder .appbutton[data-type="card"]').remove(),$('#app .appbutton[data-type="card"]').clone().appendTo($("#addfolder")),$("#addfolder .appbutton").addClass("applist"),$(".applist").each(function(a){$(this).attr("data-number");$(this).attr("data-number","folder-card"+(a+1)),$(this).css("margin","240px "+parseInt(100+170*a)+"px")}),TweenLite.to($(".transition"),.001,{opacity:.8,backgroundColor:"#000"}),setTimeout(function(){$(".transition").transition_opening("addfolder")},200),setTimeout(function(){$("#folder").removeClass("pressed"),$("#folder").notSelected_setting()},300)}}else if(2==g){A=!1,$(".filter-section li").eq(o-1).animate({textIndent:8},{step:function(a){$(this).css("-moz-transform","scale("+a/10+")")},duration:100},"linear"),$(".filter-section li").eq(o-1).animate({textIndent:12},{step:function(a){$(this).css("-moz-transform","scale("+a/10+")")},duration:200},"linear");var p=$(".filter-section li").eq(o-1).attr("data-filter");p!=l&&(TweenLite.to($("#filter .filtericon01"),.5,{backgroundPosition:"50% 265%",ease:Power4.easeOut}),$("#filter .filtericon02").css("background-image","url(../images/"+p+".svg)"),$(".filtericon02").removeClass("important-"+l),TweenLite.to($("#filter .filtericon02"),.5,{backgroundPosition:"50% 50%",ease:Power4.easeOut,onComplete:function(){$("#filter .filtericon02").css("background-position","50% -165%"),$("#filter .filtericon01").css("background-position","50% 50%"),$("#filter .filtericon01").css("background-image","url(../images/"+p+".svg)"),console.log("../images/"+p+"-dark.svg"),$(".filtericon01").removeClass("important-"+l)}})),setTimeout(function(){$(".active").css("color","#ccc"),$(".active").removeClass("active"),$(".filter-section li").eq(o-1).addClass("active"),$("#app > .appbutton").closing();var a;a=1==G?700:1e3,setTimeout(function(){if("all"==p)m=!1,$(".next, .prev").css("display","block"),$("#app > .appbutton").length!=b.length&&($("#app > .appbutton").remove(),$("#app").append(b),G=b.length),$("#app > .appbutton").opening(),l="all";else{m=!0,$("#app > .appbutton").remove(),$("#app").append(b),$(".next, .prev").css("display","none"),l=p;var a=$('#app > .appbutton[data-filter="'+p+'"]').clone();G=a.length,console.log("count="+G),a.each(function(a){$(this).attr("data-number",parseInt(a)+1),$(this).css("margin-left",(1920-300*G)/2+a*(300+100/G)-40)}),setTimeout(function(){$("#app > .appbutton").remove(),$("#app").append(a),$("#app > .appbutton").css("left",0),$("#app > .appbutton").opening()},200)}},a)},100)}}else if("optionmode"==e)if(A=!1,1==s){for(var r=0;6>r;r++)null!=Q[r]&&Q[r].pause();console.log("rearrange"),f==G?$(".next").css("display","none"):1==f?$(".prev").css("display","none"):($(".next").css("display","block"),$(".prev").css("display","block")),n=f,$("#rearrange").addClass("pressed"),TweenLite.to($("#rearrange"),.2,{backgroundColor:z,scale:1}),$(".transition").transition_closing("rearrange"),TweenLite.to($("#black"),.5,{opacity:.4,zIndex:2e3,ease:Power1.easeInOut,delay:.5});var v=$(".appbutton");TweenLite.to(v,.8,{scale:.5,ease:Power4.easeInOut,delay:.5}),d>0&&TweenLite.to($(".appbutton"),C,{left:"+="+350*d,ease:Power1.easeInOut,delay:.5}),setTimeout(function(){if(10>=G)for(var a=0;G>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),.8,{marginLeft:(1920-150*G-10*(G-1))/2+160*a-75,ease:Power4.easeInOut});else for(var a=0;G>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),.8,{marginLeft:165+168*a,ease:Power4.easeInOut});setTimeout(function(){var a=$(".appbutton[data-number="+parseInt(f)+"]");a.isSelected(.9);for(var b=0;3>b;b++)O[b]=new TimelineMax({repeat:-1,delay:.1*b}),P[b]=new TimelineMax({repeat:-1,delay:.1*b});var c=$(".next"),d=.6;c.each(function(a,b){O[a].fromTo(b,d,{left:I+160*(f-1)+16*a+"px",opacity:0,ease:Power2.easeIn},{left:I+5+160*(f-1)+16*a+"px",opacity:1,ease:Power2.easeIn}).to(b,d,{left:I+10+160*(f-1)+16*a+"px",opacity:0,ease:Power2.easeOut})});var e=$(".prev");e.each(function(a,b){P[a].fromTo(b,d,{left:J+160*(f-1)-16*a+"px",opacity:0,ease:Power2.easeIn},{left:J-5+160*(f-1)-16*a+"px",opacity:1,ease:Power2.easeIn}).to(b,d,{left:J-10+160*(f-1)-16*a+"px",opacity:0,ease:Power2.easeOut})}),TweenLite.to($(".appbutton[data-number="+parseInt(f)+"]"),.001,{zIndex:3e3}),$("#rearrange").removeClass("pressed"),TweenLite.to($("#rearrange"),.2,{backgroundColor:"#FFF"})},700)},500)}else 2==s?(console.log("rename"),$("#rename").addClass("pressed"),TweenLite.to($("#rename"),.2,{backgroundColor:z,scale:1}),setTimeout(function(){$("#rename").removeClass("pressed"),TweenLite.to($("#rename"),.2,{backgroundColor:"#FFF",scale:1.3,onComplete:function(){A=!0}})},X)):3==s&&(console.log("remove"),$("#remove").addClass("pressed"),TweenLite.to($("#remove"),.2,{backgroundColor:z,scale:1}),setTimeout(function(){var a=$(".appbutton[data-number="+parseInt(f)+"]");if("folder"==a.attr("data-type"))e="delete",console.log("Folder"),TweenLite.to($("#option .optbutton"),.8,{opacity:0,y:"+=100",ease:Power4.easeInOut,onComplete:function(){TweenLite.to($("#option"),.001,{zIndex:-1,ease:Power4.easeInOut}),TweenLite.to($("#delete .message"),.4,{opacity:1,ease:Power4.easeInOut}),TweenLite.to($("#delete"),.001,{zIndex:2e3,ease:Power4.easeInOut});var a=$("#delete .optbutton"),b=0;a.each(function(a,c){setTimeout(function(){TweenLite.to(c,.8,{opacity:1,y:"-=100",ease:Power4.easeInOut})},b),b+=200}),setTimeout(function(){$("#cancel").isSelected_option(),setTimeout(function(){$("#remove").removeClass("pressed")},400)},1e3)}});else{$(".transition").transition_closing("optionmode");var a=$(".appbutton[data-number="+parseInt(f)+"]");TweenLite.to(a,.4,{y:"+=200",opacity:0,ease:Power2.easeInOut,delay:1,onComplete:function(){for(var b=parseInt(f)+1;G>=b;b++){var e=$(".appbutton[data-number="+parseInt(b)+"]");e.attr("data-number",b-1),console.log(e),5>=G?1==f?TweenLite.to(e,.4,{marginLeft:"-=162px",ease:Power4.easeInOut}):TweenLite.to(e,.4,{marginLeft:"-=478px",ease:Power4.easeInOut}):TweenLite.to(e,.4,{marginLeft:"-=320px",ease:Power4.easeInOut,
delay:.2})}setTimeout(function(){1!=f?($(".appbutton[data-number="+parseInt(f-1)+"]").isSelected(),f-=1,0==d?(c--,5>=G&&TweenLite.to($(".appbutton"),C,{marginLeft:"+=158",ease:Power1.easeInOut})):d==G-5?(d--,TweenLite.to($(".appbutton"),C,{left:"+=350",ease:Power1.easeInOut})):0!=c?c--:(d--,TweenLite.to($(".appbutton"),C,{left:"+=350",ease:Power1.easeInOut}))):($(".appbutton[data-number="+parseInt(f)+"]").isSelected(),$("#remove").removeClass("pressed")),a.remove(),G-=1,I=515+.5*(8-G)*160,J=235+.5*(8-G)*160},200)}})}},0));else if("rearrange"==e){$(".appbutton[data-number="+parseInt(f)+"]").notSelected(.5);var w=$(".appbutton[data-number="+parseInt(f)+"]");$("#app > .appbutton").each(function(a,b){if("folder"==$(b).attr("data-type")){var c=$("#"+$(b).attr("id")+"> .appbutton-folder"),d=$(b).attr("data-number");c.each(function(a,b){var c=$(b).attr("data-number").split("-")[1];$(b).attr("data-number",d+"-"+c)})}}),TweenLite.to($(".next, .prev"),.001,{opacity:0,x:0});for(var r=0;3>r;r++)O[r].kill(),P[r].kill();TweenLite.to($("#black"),.5,{opacity:0,zIndex:-1,ease:Power1.easeInOut,delay:.3});var v=$(".appbutton");TweenLite.to(v,.8,{scale:1,ease:Power4.easeInOut,delay:.3}),setTimeout(function(){if(5>=G)for(var a=0;G>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),.8,{marginLeft:(1920-300*G)/2+a*(300+100/G)+10,ease:Power4.easeInOut});else for(var a=0;G>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),.8,{marginLeft:160+320*a+10,ease:Power4.easeInOut});c=c>4?4:f-1,f>5?(TweenLite.to($(".appbutton"),C,{left:"-="+350*(f-5),ease:Power1.easeInOut,delay:.5}),c=4,d=f-5):d=0,setTimeout(function(){e="navigation",$(".appbutton[data-number="+parseInt(f)+"]").isSelected()},700)},300)}else if("delete"==e)console.log("remove"),1==x?($("#cancel").addClass("pressed"),TweenLite.to($("#cancel"),.2,{backgroundColor:z,scale:1})):TweenLite.to($("#confirm"),.2,{scale:1}),setTimeout(function(){TweenLite.to($("#delete .message"),.8,{opacity:0,ease:Power4.easeInOut}),TweenLite.to($("#delete .optbutton"),.8,{opacity:0,y:"+=100",ease:Power4.easeInOut,onComplete:function(){s=1,1==x?setTimeout(function(){$(".appbutton[data-number="+parseInt(f)+"]").isSelected(),setTimeout(function(){e="navigation",$("#cancel").removeClass("pressed")},1e3*B)},600):(console.log("confirm"),setTimeout(function(){var a=$(".appbutton[data-number="+parseInt(f)+"]");TweenLite.to(a,.4,{y:"+=200",opacity:0,ease:Power2.easeInOut,onComplete:function(){for(var b=parseInt(f)+1;G>=b;b++){var g=$(".appbutton[data-number="+parseInt(b)+"]");g.attr("data-number",b-1),console.log(g),5>=G?1==f?TweenLite.to(g,.4,{marginLeft:"-=162px",ease:Power4.easeInOut}):TweenLite.to(g,.4,{marginLeft:"-=478px",ease:Power4.easeInOut}):TweenLite.to(g,.4,{marginLeft:"-=320px",ease:Power4.easeInOut,delay:.2})}setTimeout(function(){1!=f?($(".appbutton[data-number="+parseInt(f-1)+"]").isSelected(),f-=1,0==d?(c--,5>=G&&TweenLite.to($(".appbutton"),C,{marginLeft:"+=158",ease:Power1.easeInOut})):d==G-5?(d--,TweenLite.to($(".appbutton"),C,{left:"+=350",ease:Power1.easeInOut})):0!=c?c--:(d--,TweenLite.to($(".appbutton"),C,{left:"+=350",ease:Power1.easeInOut}))):$(".appbutton[data-number="+parseInt(f)+"]").isSelected(),a.remove(),G-=1,e="navigation",I=515+.5*(8-G)*160,J=235+.5*(8-G)*160,x=1},200)}})},200)),$(".selectedOption").notSelected_option()}}),TweenLite.to($(".transition"),D-1,{marginLeft:"0",bottom:"0",width:"0px",height:"0px",ease:Power4.easeIn,delay:.2,onComplete:function(){TweenLite.to($("#delete"),.001,{zIndex:-1,ease:Power4.easeInOut})}})},0);else if("addfolder"==e)if(0==h)if($("#addfolder-done p").hasClass("inactive"))console.log("inactive");else{A=!1;var F=0,K=[];console.log("done"),TweenLite.to($("#addfolder-done p"),.3,{paddingTop:"20px"}),$("#addfolder-done p").addClass("pressed"),TweenLite.to($("#addfolder-done"),.3,{scale:1,background:"#5eabd9",border:"6px #5eabd9 solid",onComplete:function(){TweenLite.to($(".transition"),D,{marginLeft:"0px",bottom:"0px",width:"0px",height:"0px",ease:Power4.easeOut,delay:.3});var a=[];$(".appselected").each(function(b){var c=$(this).attr("id");a[b]=$("#app > .appbutton#"+c).clone(),K.push(a[b].attr("data-number")),a[b].removeClass("appbutton").addClass("appbutton-folder"),a[b].attr("data-type","folder-card"),$("#app > .appbutton#"+c).attr("data-number")<=f&&F++,console.log("offset="+F),$("#app > .appbutton#"+c).remove(),G--,console.log(a[b])}),console.log(K),$("#app > .appbutton").each(function(a){$(this).attr("data-number",parseInt(a)+1);for(var b=0;G>b;b++){var c=$("#app > .appbutton[data-number="+(b+1)+"]");c.css({"margin-left":210+320*b-40,left:-350*d})}}),TweenLite.to($("#addfolder"),.5,{opacity:0,zIndex:-1,onComplete:function(){for(var b=$(".appbutton[data-number="+f+"]"),i=G;i>=parseInt(f)+1-F;i--){var l=$(".appbutton[data-number="+parseInt(i)+"]");l.attr("data-number",parseInt(i)+1),TweenLite.to(l,.4,{marginLeft:"+=320px",ease:Power4.easeInOut,delay:.2})}f++,f-=F,G++,H++,c++,c-=F,I=515+.5*(8-G)*160,J=235+.5*(8-G)*160,c>=5&&(TweenLite.to($(".appbutton"),C,{left:"-=350",ease:Power1.easeInOut,onComplete:function(){}}),c=4,d+=1);var m=$('.appbutton[data-type="folder"]').length;m++,b.after('<div class="appbutton" id="app'+pad(H,2)+'" data-type="folder" data-number="'+f+'" data-content="Folder'+m+'"><p>Folder'+m+"</p>");for(var b=$(".appbutton[data-number="+f+"]"),i=0;i<a.length;i++)a[i].attr("data-number",f+"-"+(parseInt(i)+1)),a[i].css({"margin-left":120+70*i,left:0}),b.append(a[i]);b.css("background-color","#5a5a5a"),b.css({"margin-left":210+320*(f-1)-40,left:-350*d}),b.css("z-index",100),b.prepend('<span class="icon_folder"></span>'),setTimeout(function(){TweenLite.fromTo(b,.4,{scale:0,opacity:0},{scale:1.6,border:"6px #FFF solid",opacity:1,y:"-=100",onComplete:function(){b.isSelected()}})},500),e="navigation",g=1,q=1,j=1,k=0,$("#addfolder-number--selected").text(k),TweenLite.to($("#addfolder-done"),.01,{background:"#FFF",border:"6px #FFF solid"}),$("#addfolder-done p").removeClass("pressed"),$("#addfolder-done p").addClass("inactive"),h=1}})}})}else 1==h&&(console.log("check app number "+j),$(".applist").each(function(a){a==j-1&&($(this).hasClass("appselected")?(TweenLite.to($(this),.1,{backgroundColor:"#ccc"}),$(this).removeClass("appselected"),k--):(TweenLite.to($(this),.1,{backgroundColor:"#5eabd9"}),$(this).addClass("appselected"),k++))}),$("#addfolder-number--selected").text(k),0!=k?$("#addfolder-done p").removeClass("inactive"):$("#addfolder-done p").addClass("inactive"));else if("rearrange-folder"==e){var w=$(".appbutton[data-number="+parseInt(f)+"]");TweenLite.to($("#"+w.attr("id")+" > .appbutton-folder"),E,{opacity:0}),TweenLite.to($("#"+w.attr("id")+" p"),E,{opacity:1}),TweenLite.to($("#"+w.attr("id")+" .icon_folder"),E,{backgroundSize:"40% 40%"}),TweenLite.to($(".next, .prev"),.001,{opacity:0,x:0});for(var r=0;3>r;r++)O[r].kill(),P[r].kill();for(var L=$(".selected[data-number="+f+"]"),M=$(".appbutton[data-number="+f+'][data-type="folder"] > .appbutton-folder'),N=M.length+1,r=N-1;r>=u;r--)$(".appbutton-folder[data-number="+f+"-"+r+"]").attr("data-number",f+"-"+(r+1));var R=L.clone().removeClass("selected").removeClass("appbutton").addClass("appbutton-folder").attr("data-type","folder-card").css("opacity",0).attr("data-number",f+"-"+u),S=$(".appbutton[data-number="+f+'][data-type="folder"]');S.append(R),R.css({border:"0px"}),$("#"+w.attr("id")+" > .appbutton-folder").each(function(){var a=$(this).attr("data-number").split("-")[1]-1;TweenLite.to(this,.001,{width:"60px",height:"60px",marginLeft:120+70*a+"px",bottom:"-80px",delay:.3})}),1==t?TweenLite.to(L,.8,{opacity:0,ease:Power4.easeInOut,delay:.3,onComplete:function(){L.remove()}}):TweenLite.to(L,E,{opacity:0,ease:Power4.easeInOut,onComplete:function(){L.remove()}}),G--,t=1,u=1,I=515+.5*(8-G)*160,J=235+.5*(8-G)*160,TweenLite.to($("#black"),.5,{opacity:0,zIndex:-1,ease:Power1.easeInOut,delay:.3});var v=$(".appbutton");TweenLite.to(v,.8,{scale:1,ease:Power4.easeInOut,delay:.3}),setTimeout(function(){if(5>=G)for(var a=0;G>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),.8,{marginLeft:(1920-300*G)/2+a*(300+100/G),ease:Power4.easeInOut});else for(var a=0;G>a;a++)TweenLite.to($(".appbutton[data-number="+(a+1)+"]"),.8,{marginLeft:160+320*a,ease:Power4.easeInOut});c=c>4?4:f-1,f>5?(TweenLite.to($(".appbutton"),C,{left:"-="+350*(f-5),ease:Power1.easeInOut,delay:.5}),c=4,d=f-5):d=0,setTimeout(function(){e="navigation",$(".appbutton[data-number="+parseInt(f)+"]").isSelected()},700)},300)}})});