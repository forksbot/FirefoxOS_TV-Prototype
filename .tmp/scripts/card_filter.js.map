{"version":3,"sources":["../../app/scripts/card_filter.js"],"names":[],"mappings":"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","file":"card_filter.js","sourcesContent":["/* global evt */\n(function(exports) {\n  'use strict';\n\n  /**\n   * This class controls UI and user interaction of filter, with the help from\n   * [MenuGroup](http://bit.ly/1JbbnZ8).\n   *\n   * @class CardFilter\n   * @requires {@link http://bit.ly/1JbbnZ8|MenuGroup}\n   * @fires CardFilter#opened\n   * @fires CardFilter#filterchanged\n   */\n  function CardFilter() {}\n\n  var proto = CardFilter.prototype = new evt();\n\n  Object.defineProperty(proto, 'filter', {\n    get: function cf_getFilter() {\n      return this._selectedFilter;\n    },\n    set: function cf_setFilter(icon) {\n      if (this.menuGroup && this._buttons[icon]) {\n        if (this._buttons[this._selectedFilter]) {\n          this._buttons[this._selectedFilter].classList.remove('toggled');\n        }\n        this._selectedFilter = icon;\n        this.menuGroup.changeIcon(icon);\n        this._buttons[icon].classList.add('toggled');\n        /**\n         * This event fires whenever filter changes.\n         * @event CardFilter#filterchanged\n         */\n        this.emit('filterchanged', icon);\n      }\n    }\n  });\n\n  proto.start = function cf_start(menuGroup) {\n    this.menuGroup = menuGroup;\n    this.menuGroup.addEventListener('opened', function() {\n      /**\n       * This event fires whenever [MenuGroup](http://bit.ly/1JbbnZ8) is opened.\n       * @event CardFilter#opened\n       */\n      this.fire('opened');\n    }.bind(this));\n    var buttons = this.menuGroup.querySelectorAll(\n                                                'smart-button[data-icon-type]');\n    this._buttons = {};\n    for (var i = 0; i < buttons.length; i++) {\n      this._buttons[buttons[i].dataset.iconType] = buttons[i];\n      buttons[i].addEventListener('click', this);\n    }\n  };\n\n  proto.stop = function cf_stop() {\n    var that = this;\n    var buttonKeys = Object.keys(this._buttons);\n    buttonKeys.forEach(function(key) {\n      that._buttons[key].removeEventListener('click', that);\n    });\n  };\n\n  proto.handleEvent = function cf_handleEvent(evt) {\n    if (!evt.target.dataset.iconType) {\n      return;\n    }\n    this.filter = evt.target.dataset.iconType;\n  };\n\n  proto.hide = function cf_hide() {\n    this.menuGroup.classList.add('hidden');\n  };\n\n  proto.show = function cf_show() {\n    this.menuGroup.classList.remove('hidden');\n  };\n\n  exports.CardFilter = CardFilter;\n\n})(window);\n"]}