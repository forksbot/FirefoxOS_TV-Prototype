{"version":3,"sources":["../../app/scripts/search_bar.js"],"names":[],"mappings":"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","file":"search_bar.js","sourcesContent":["/* global evt */\n(function(exports) {\n  'use strict';\n\n  function SearchBar() {}\n\n  SearchBar.STATES = Object.freeze({\n    'HIDDEN': 'hidden',\n    'SHOWING': 'showing',\n    'SHOWN': 'shown'\n  });\n\n  var proto = SearchBar.prototype = new evt();\n\n  Object.defineProperty(proto, 'state', {\n    get: function sb_getState() {\n      return this._state;\n    },\n    set: function sb_setState(state) {\n      this._state = state;\n      this.fire(state);\n    }\n  });\n\n  proto.init = function sb_init(ui) {\n    this.searchUI = ui;\n    this.searchUI.addEventListener('transitionend', this);\n\n    this.voiceButton = this.searchUI.querySelector('.search-mic-button');\n    this.voiceButton.addEventListener('transitionend', this);\n\n    this.state = this.searchUI.classList.contains('hidden') ?\n                    SearchBar.STATES.HIDDEN : SearchBar.STATES.SHOWN;\n  };\n\n  proto.uninit = function sb_uninit() {\n    this.searchUI.removeEventListener('transitionend', this);\n    this.voiceButton.removeEventListener('transitionend', this);\n  };\n\n  proto.show = function sb_show() {\n    this.searchUI.classList.remove('hidden');\n    this.state = SearchBar.STATES.SHOWING;\n  };\n\n  proto.hide = function sb_hide() {\n    this.searchUI.classList.add('hidden');\n    this.searchUI.classList.remove('opened');\n    this.state = SearchBar.STATES.HIDDEN;\n  };\n\n  proto.handleEvent = function sb_handleEvent(evt) {\n    // We have two steps transition:\n    //   1. background-color transition on searchUI\n    //   2. opacity on voiceButton\n    if (evt.target === this.searchUI &&\n        evt.propertyName === 'background-color' &&\n        this.state === SearchBar.STATES.SHOWING) {\n      this.searchUI.classList.add('opened');\n    } else if (evt.target === this.voiceButton &&\n               evt.propertyName === 'opacity' &&\n               this.state === SearchBar.STATES.SHOWING) {\n      this.state = SearchBar.STATES.SHOWN;\n    }\n  };\n\n  exports.SearchBar = SearchBar;\n\n})(window);\n"]}